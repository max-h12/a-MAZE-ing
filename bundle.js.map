{"version":3,"sources":["bundle.js"],"names":["require","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","1","module","./lib/priorityq","2","PriorityQ","comp","this","items","prototype","push","item","splice","pop","shift","peek","size","clear","isEmpty","maze","Backtracker","width","height","grid","Uint8Array","queue","Array","undefined","test","c","get","set","v","fringe","reset","generate","stack","cc","cf","Math","floor","random","solve","start","end","pq","b","score","visited","Set","self","manhattan","abs","ci","path","add","JSON","stringify","fr","frstr","has","np","slice","toString","str","priorityjs"],"mappings":"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","file":"bundle.js","sourcesContent":["require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = require('./lib/priorityq');\r\n\n},{\"./lib/priorityq\":2}],2:[function(require,module,exports){\n(function() {\n\t'use strict';\n\n\tfunction PriorityQ(comp) {\n\t\tif (!comp || comp.length != 2) {\n\t\t\tthrow 'a valid comparator function required';\n\t\t}\n\t\tthis.comp = comp;\n\t\tthis.items = [];\n\t}\n\n\tPriorityQ.prototype.push = function(item) {\n\t\tfor (var i = 0; i < this.items.length; i++) {\n\t\t\tif (this.comp(item, this.items[i])) {\n\t\t\t\tthis.items.splice(i, 0, item);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.items[i] = item;\n\t};\n\n\tPriorityQ.prototype.pop = function() {\n\t\treturn this.items.shift();\n\t};\n\n\tPriorityQ.prototype.peek = function() {\n\t\treturn this.items[0];\n\t};\n\n\tPriorityQ.prototype.size = function() {\n\t\treturn this.items.length;\n\t};\n\n\tPriorityQ.prototype.clear = function() {\n\t\tthis.items = [];\n\t};\n\n\tPriorityQ.prototype.isEmpty = function() {\n\t\treturn this.items.length === 0;\n\t};\n\n\tmodule.exports.PriorityQ = PriorityQ;\n}());\n\n},{}],\"maze\":[function(require,module,exports){\n(function() {\n  'use strict';\n\n  var queue = require('priorityjs');\n\n  function Backtracker(width, height) {\n    this.width = width;\n    this.height = height;\n    this.grid = new Uint8Array(width * height);\n  }\n\n  Array.prototype.peek = function() {\n    return this.length > 0 ? this[this.length - 1] : undefined;\n  };\n\n  Backtracker.prototype.test = function(r, c) {\n    return !(r <= 0 || r >= (this.height - 1) ||\n        c <= 0 || c >= (this.width - 1)) &&\n      !this.grid[r * this.width + c];\n  };\n\n  Backtracker.prototype.get = function(r, c) {\n    return this.grid[r * this.width + c];\n  };\n\n  Backtracker.prototype.set = function(r, c, v) {\n    this.grid[r * this.width + c] = v;\n  };\n\n  Backtracker.prototype.fringe = function(r, c) {\n    var items = [];\n    var f = [\n      [-2, 0],\n      [0, 2],\n      [2, 0],\n      [0, -2]\n    ];\n    for (var i = 0; i < f.length; i++) {\n      if (this.test(r + f[i][0], c + f[i][1])) {\n        items.push([r + f[i][0], c + f[i][1]]);\n      }\n    }\n    return items;\n  };\n\n  Backtracker.prototype.reset = function() {\n    var l = this.grid.length;\n    while (l) {\n      this.grid[--l] = 0;\n    }\n  };\n\n  Backtracker.prototype.generate = function() {\n    var stack = [];\n    var cc = [1, 1];\n    while (cc) {\n      this.set(cc[0], cc[1], 1);\n      var f = this.fringe(cc[0], cc[1]);\n      if (f.length > 0) {\n        var cf = f[Math.floor(Math.random() * f.length)];\n        stack.push(cc);\n        this.set(Math.floor((cc[0] + cf[0]) / 2),\n          Math.floor((cc[1] + cf[1]) / 2), 1);\n        cc = cf;\n      } else {\n        cc = stack.pop();\n      }\n    }\n  };\n\n  Backtracker.prototype.solve = function(start, end) {\n    var pq = new queue.PriorityQ(function(a, b) {\n      return a.score < b.score;\n    });\n    var visited = new Set();\n    var self = this;\n\n    var manhattan = function(a, b) {\n      return Math.abs(a[0] - b[0]) + Math.abs(a[1] - b[1]);\n    };\n\n    var test = function(r, c) {\n      return !(r <= 0 || r >= (self.height - 1) ||\n          c <= 0 || c >= (self.width - 1)) &&\n        self.grid[r * self.width + c];\n    };\n\n    var fringe = function(r, c) {\n      var items = [];\n      var f = [\n        [-1, 0],\n        [0, 1],\n        [1, 0],\n        [0, -1]\n      ];\n      for (var i = 0; i < f.length; i++) {\n        if (test(r + f[i][0], c + f[i][1])) {\n          items.push([r + f[i][0], c + f[i][1]]);\n        }\n      }\n      return items;\n    };\n\n    var ci = {\n      path: [start],\n      score: manhattan(start, end)\n    };\n    visited.add(JSON.stringify(ci.path.peek()));\n    while (ci && manhattan(ci.path.peek(), end) !== 0) {\n      var fr = fringe(ci.path.peek()[0], ci.path.peek()[1]);\n      for (var i = 0; i < fr.length; i++) {\n        var frstr = JSON.stringify(fr[i]);\n        if (!visited.has(frstr)) {\n          visited.add(frstr);\n          var np = ci.path.slice(0);\n          np.push(fr[i]);\n          pq.push({\n            path: np,\n            score: ci.score + manhattan(fr[i], end)\n          });\n        }\n      }\n      ci = pq.pop();\n    }\n    return ci ? ci.path : [];\n  };\n\n  Backtracker.prototype.toString = function() {\n    var str = '';\n    for (var r = 0; r < this.height; r++) {\n      str += '\\n';\n      for (var c = 0; c < this.width; c++) {\n        str += this.grid[r * this.width + c] ? ' ' : 'â–ˆ';\n      }\n    }\n    return str;\n  };\n\n  module.exports.Backtracker = Backtracker;\n}());\n\n},{\"priorityjs\":1}]},{},[\"maze\"]);\n"]}